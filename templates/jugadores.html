<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jugadores</title>
    <link rel="stylesheet" href="/static/estilos.css">
</head>
<body>
    <header>
        <h1>Jugadores</h1>
        <nav>
            <a href="/">Inicio</a>
            <a href="/equipos/">Equipos</a>
            <a href="/jugadores/">Jugadores</a>
            <a href="/partidos/">Partidos</a>
            <a href="/torneos/">Torneos</a>
            <a href="/plantillas/">Plantillas</a>
            <a href="/estadisticas/completa/">Estadísticas</a>
        </nav>
    </header>
    <main>
        <h2>Lista de Jugadores</h2>
        <form action="/jugadores/" method="GET">
            <label for="anio">Filtrar por Año:</label>
            <input type="number" id="anio" name="anio" value="{{ anio or '' }}" min="2021" max="2024">
            <button type="submit">Filtrar</button>
        </form>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Fecha Nacimiento (Edad)</th>
                    <th>Club</th>
                    <th>Altura</th>
                    <th>Pie</th>
                    <th>Partidos Selección</th>
                    <th>Goles</th>
                    <th>Número Camisa</th>
                    <th>Año</th>
                    <th>Posición</th>
                    <th>Activo</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for jugador in jugadores %}
                <tr>
                    <td>{{ jugador.id }}</td>
                    <td><a href="/jugadores/{{ jugador.id }}">{{ jugador.Jugadores }}</a></td>
                    <td>{{ jugador.fecha_nacimiento }} ({{ jugador.edad or 'N/A' }})</td>
                    <td>{{ jugador.Club }}</td>
                    <td>{{ jugador.Altura or 'N/A' }}</td>
                    <td>{{ jugador.Pie or 'N/A' }}</td>
                    <td>{{ jugador.Partidos_con_la_seleccion or 'N/A' }}</td>
                    <td>{{ jugador.Goles or 'N/A' }}</td>
                    <td>{{ jugador.Numero_de_camisa }}</td>
                    <td>{{ jugador.anio }}</td>
                    <td>{{ jugador.posicion }}</td>
                    <td>{{ 'Sí' if jugador.activo else 'No' }}</td>
                    <td>
                        <a href="/jugadores/{{ jugador.id }}/edit">Editar</a>
                        <form action="/jugadores/{{ jugador.id }}/?_method=DELETE" method="POST" style="display:inline;">
                            <button type="submit">Eliminar</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <div class="pagination">
            {% if page > 1 %}
                <a href="/jugadores/?page={{ page - 1 }}{% if anio %}&anio={{ anio }}{% endif %}">Anterior</a>
            {% endif %}
            <span>Página {{ page }} de {{ total_pages }}</span>
            {% if page < total_pages %}
                <a href="/jugadores/?page={{ page + 1 }}{% if anio %}&anio={{ anio }}{% endif %}">Siguiente</a>
            {% endif %}
        </div>

        <h2>Registrar Nuevo Jugador</h2>
        <form action="/jugadores/" method="POST">
            <label for="id">ID:</label><br>
            <input type="number" id="id" name="id" required><br>
            <label for="Jugadores">Nombre:</label><br>
            <input type="text" id="Jugadores" name="Jugadores" required><br>
            <label for="F_Nacim_Edad">Fecha Nacimiento (Edad):</label><br>
            <input type="text" id="F_Nacim_Edad" name="F_Nacim_Edad" placeholder="YYYY-MM-DD (Edad)" required><br>
            <label for="Club">Club:</label><br>
            <input type="text" id="Club" name="Club" required><br>
            <label for="Altura">Altura:</label><br>
            <input type="text" id="Altura" name="Altura"><br>
            <label for="Pie">Pie:</label><br>
            <input type="text" id="Pie" name="Pie"><br>
            <label for="Partidos_con_la_seleccion">Partidos con la Selección:</label><br>
            <input type="number" id="Partidos_con_la_seleccion" name="Partidos_con_la_seleccion"><br>
            <label for="Goles">Goles:</label><br>
            <input type="number" id="Goles" name="Goles"><br>
            <label for="Numero_de_camisa">Número de Camisa:</label><br>
            <input type="text" id="Numero_de_camisa" name="Numero_de_camisa"><br>
            <label for="anio">Año:</label><br>
            <input type="number" id="anio" name="anio" min="2021" max="2024" required><br>
            <label for="posicion">Posición:</label><br>
            <input type="text" id="posicion" name="posicion" required><br>
            <label for="activo">Activo:</label><br>
            <select id="activo" name="activo">
                <option value="True">Sí</option>
                <option value="False">No</option>
            </select><br><br>
            <button type="submit">Guardar</button>
        </form>
    </main>
</body>
</html>