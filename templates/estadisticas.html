<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estadísticas</title>
    <link rel="stylesheet" href="/static/estilos.css">
</head>
<body>
    <header>
        <h1>Estadísticas de la Selección Colombia</h1>
        <nav>
            <a href="/">Inicio</a>
            <a href="/equipos/">Equipos</a>
            <a href="/jugadores/">Jugadores</a>
            <a href="/partidos/">Partidos</a>
            <a href="/torneos/">Torneos</a>
            <a href="/plantillas/">Plantillas</a>
            <a href="/estadisticas/completa/">Estadísticas</a>
        </nav>
    </header>
    <main>
        <h2>Estadísticas Generales</h2>
        <form action="/estadisticas/completa/" method="GET">
            <label for="anio">Filtrar por Año:</label>
            <input type="number" id="anio" name="anio" min="2021" max="2024">
            <button type="submit">Filtrar</button>
        </form>
        {% if estadisticas.message %}
            <p>{{ estadisticas.message }}</p>
        {% else %}
            <table>
                <tr>
                    <th>Total Partidos</th>
                    <td>{{ estadisticas.total_partidos }}</td>
                </tr>
                <tr>
                    <th>Goles Anotados</th>
                    <td>{{ estadisticas.goles_anotados }}</td>
                </tr>
                <tr>
                    <th>Goles Recibidos</th>
                    <td>{{ estadisticas.goles_recibidos }}</td>
                </tr>
                <tr>
                    <th>Promedio Goles por Partido</th>
                    <td>{{ estadisticas.promedio_goles_por_partido }}</td>
                </tr>
                <tr>
                    <th>Victorias</th>
                    <td>{{ estadisticas.victorias }}</td>
                </tr>
                <tr>
                    <th>Empates</th>
                    <td>{{ estadisticas.empates }}</td>
                </tr>
                <tr>
                    <th>Derrotas</th>
                    <td>{{ estadisticas.derrotas }}</td>
                </tr>
                <tr>
                    <th>Tarjetas Amarillas Recibidas</th>
                    <td>{{ estadisticas.tarjetas_amarillas }}</td>
                </tr>
                <tr>
                    <th>Tarjetas Rojas Recibidas</th>
                    <td>{{ estadisticas.tarjetas_rojas }}</td>
                </tr>
                <tr>
                    <th>Partidos donde Colombia fue Eliminada</th>
                    <td>{{ estadisticas.partidos_eliminados }}</td>
                </tr>
                <tr>
                    <th>Porcentaje de Eliminaciones</th>
                    <td>{{ estadisticas.porcentaje_eliminaciones }}%</td>
                </tr>
            </table>

            <h3>Distribución de Resultados</h3>
            ```chartjs
            {
                "type": "bar",
                "data": {{ estadisticas.resultados_data | tojson }},
                "options": {
                    "scales": {
                        "y": {
                            "beginAtZero": true
                        }
                    }
                }
            }
            ```

            <h3>Goles a lo largo del tiempo</h3>
            ```chartjs
            {
                "type": "line",
                "data": {{ estadisticas.goles_data | tojson }},
                "options": {
                    "scales": {
                        "x": {
                            "type": "time",
                            "time": {
                                "unit": "month"
                            }
                        },
                        "y": {
                            "beginAtZero": true
                        }
                    }
                }
            }
            ```
        {% endif %}
    </main>
</body>
</html>